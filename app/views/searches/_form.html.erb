<form class="search_form">
  <div class="search-container">
    <div class="row">
      <div class="col-sm-1">
        <select id="s1" class="search-container-select">
          <option default>Form</option>
          <option>form 1</option>
          <option>form 2</option>
        </select>
      </div>
      <div class="col-sm-2">
        <select id="s22" class="search-container-select">
          <option default>User/Group</option>
          <option>user 1</option>
          <option>user 2</option>
        </select>
      </div>
      <div class="col-sm-1 desktop-only">
        <select id="s24" class="search-container-select">
          <option default>Reviewed</option>
          <option>Yes</option>
          <option>No</option>
        </select>
      </div>
      <div class="col-sm-2 desktop-only">
        <input type="text" class="form-control" placeholder="Min-Date">
        <i class="fa fa-calendar icon-option_set date-icon"></i>
      </div>
      <div class="col-sm-2 desktop-only">
        <input type="text" class="form-control" placeholder="Max-Date">
        <i class="fa fa-calendar icon-option_set date-icon"></i>
      </div>
      <div class="col-sm-2">
        <input type="text" class="form-control" name="search" value="<%= params[:search] %>" id="search_str" placeholder="<%= t("common.search") %>" autocomplete="off">
        <a class="search-help" href="#"><%= t('search.help_link') %></a>
      </div>
      <div class="col-sm mobile-only add-filters">
        <a href="" id="add-filters">
          <i class="fa fa-angle-double-down"></i>
          Show more filters
        </a> 
      </div>
      <div class="col-sm-2 search-button">
      <input type="submit" value="<%= t("common.search") %>" class="btn"><!--
        --><% if params[:search].present? %><!--
          --><input type="button" value="<%= t("common.clear") %>" class="btn btn-clear">
          <% end %>
      </div>
    </div>

    <div class="row hidden question-row" id="question-row">
      <div class="col-sm-2">
        <select id="s2" class="search-container-select">
          <option default>Filter by Question</option>
          <option>user 1</option>
          <option>user 2</option>
        </select>
      </div>
      <div class="col-sm-1">
        <select id="s3" class="search-container-select">
          <option default></option>
          <option>= equals</option>
          <option>â‰  does not equal</option>
        </select>
      </div>
      <div class="col-sm-2">
        <select id="s4" class="search-container-select">
          <option default></option>
        </select>
      </div>
      <div class="col-sm-2">
        <a href="" id="add-question" class="add-question">
          <i class="fa fa-plus"></i>
          Add Question
        </a>        
      </div>
    </div>   
  </div>


<script type="text/javascript">
  $("#s1").select2();
  $("#s22").select2();
  $("#s24").select2();
  $("#s2").select2();
  $("#s3").select2();
  $("#s4").select2();

  $('#s1').one('change', function (e) {
      $("#question-row").removeClass("hidden");
  });

  $('#add-filters').click(function(e){
    e.preventDefault();
    $(this).remove();
    $(".search-container .desktop-only").removeClass("desktop-only");
  });
</script>

<!--   <div class="search-footer" style="display: none;">
    <%= search_examples %>
    <a href="#"><%= t('search.help_link') %></a>
  </div> -->

</form>

<%# help search modal %>
<div class="modal fade" id="search-help-modal" tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title"><%= t("search.help_title") %></h4>
      </div>
      <div class="modal-body">
         <%= tmd("search.help_text.#{controller_name}", search_help_text_params) %>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal"><%= I18n.t("common.close") %></button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<%= javascript_doc_ready do %>
  ELMO.searchFormView = new ELMO.Views.SearchFormView();
<% end %>
